---
title: "Vectorbite Database Design"
author: "Matthew Watts"
date: "November 14, 2016"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Entity-Relationships

### Key

> The boxes in the diagram are called Entities
They represent categories of data the database will keep track of. Each box is one category. Eventually, each entity will probably become a table when the database is made. 

> The ovals in the Diagram are called Attributes. These represent aspects of each category or entity that will be recorded. Attributes will likely become the columns in the table that will be built around that entity.

> The most important attribute of the entity is the attribute that has a unique value for each entity instance. Formally, they are called Unique Attributes. Informally, they are also sometimes called unique keys or unique identifiers. 
Unique attributes or keys or identifiers, in table form, would be a column that has a different unique value for every single row. They allow us to link tables together. Every entity must have at least one attribute that serves as a unique key or identifier. Unique attributes in an entity are words in the oval which are underlined. 

> Every entity or category has to be related to at least one other entity in the database. A diamond and lines are used to represent and describe these relationships. The word in the diamond spells out the nature of the relationship.

> Each relationship between entities in the Diagram shows how many instances of one entity are associated with how many instances of another entity.They are called cardinality constraints. And they're indicated by the symbols next to the entity rectangles the diagram. The symbol closest to the rectangle represents the Maximum number of instances of the entity that can be associated with another entity. And the symbol farthest away from the rectangle, represents the Minimum number of instances of that entity that can be associated with another entity. If the symbol next to an entity is a straight line, that means one. If the symbol is an arrow, that means more than one.

> Any attribute or relationship designated with a ciricles symbol (O) means that it is optional

> An entity name which is in a parentheses,  means it is a composite attribute. Composite attributes are measurements or descriptions that have important meaning that can be created by combining other attributes being tracked and saved. These can be used to create unique keys. 


> An entity with a double rectangle means that it is a weak entity and only has a partial key, it must be combined to an entity which has a unique identification ID. A partial key can become unique in it's own weak entity if, and only if, it is connect to the unique key of the entity it is connected to with a double diamond. 

> An attribute with a dashed line underneath its name means it is a weak atrributed and cannot be used to identifying anything alone. 

> A relationship with a double diamond is used to connext weak entities  with an entity which has a unique identification ID

##VecDyn Entity-Relationships

VecDyn ER diagram: ![](/home/matthew/Desktop/ImperialWork/VectorBite/VecDyn/VectDynMatt/DataBase design/VecDynER.png)

- A contributor can submit many datasets, the database will keep track of a unique contributor ID, name, location and affiliated organisation

- Each dataset can only be associated with one contributor

- A location can be associated with any number of datasets

- Only one dataset can be associated with one location

- Each set of dataset submission details can be associated with only one dataset

- Only one data set can be associated with each set of dataset submission details

- Only one set of data set details can be associated with each dataset

- One dataset can be associated with one study organism

- Study organisms can be associated with any number of datasets

##Relational Schemas (Relational Diagrams)


> The critical components of a relational schema are tables, primary keys and foreign keys.

> Relational schemas can be thought of as blueprints for database.  Like wise a relational schema tells you important information about how a database is going to be organized

> Each table, or relation in theoretical terms, has a set of columns which can also be called fields. These columns represent the attributes present in the ER diagrams 

> Each entry in a table is a row or a record. The formal logical term for an entity and a table or a relation is a tuple.

> The critical thing to look out for in a relational schema is that each table must have a primary key. The primary key for a table will be one of the columns that has a unique identifier for every row in that table. The primary key will be underlined in a relational schema just like it was in the ER diagrams. 

> The database software uses the primary key in special ways to ensure data integrity. To maintain this integrity, primary keys are configured so that they cannot contain any missing values. 

> Other unique columns can be configured to allow for null values. Despite the null values you can still link tables using unique columns that are not primary keys though when you're on these queries. To help you with these links it is useful to mark unique columns in your schema with a U next to their column titles so that you know which ones can be use to link tables in your queries. 

> Foreign keys are used to link tables to other tables. They accomplish this by having values that refer to unique IDs and other tables. Foreign keys are indicated in relational schemas by drawing arrows from the foreign key in one table to the primary key it refers to in another table (abbreviation FK) 

> Foreign keys and primary keys to which they match up do not have to use the same title. 

## VecDyn Relational Schema

VecDyn Relational Schema Diagram: ![](/home/matthew/Desktop/ImperialWork/VectorBite/VecDyn/VectDynMatt/DataBase design/VecDynRS.png)




